        :root {
            --bg: #0a0a0a;
            --bg-elevated: #0f0f0f;
            --bg-card: #141414;
            --bg-input: #1a1a1a;
            --text: #e8e8e8;
            --text-dim: #6b6b6b;
            --text-muted: #3a3a3a;
            --accent: #d4c5a9;
            --accent-dim: rgba(212, 197, 169, 0.15);
            --border: #1f1f1f;
            --success: #4a7c59;
            --danger: #e63946;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', 'Noto Sans TC', sans-serif; background: var(--bg); color: var(--text); min-height: 100vh; -webkit-tap-highlight-color: transparent; padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left); }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade { animation: fadeIn 0.5s ease-out; }
        .sync-dot{display:inline-block;width:8px;height:8px;border-radius:50%;margin-right:6px;vertical-align:middle;}
        .sync-dot.on{background:var(--success);box-shadow:0 0 6px var(--success);}
        .sync-dot.off{background:var(--text-muted);}
        
        /* Sidebar */
        .sidebar { width: 200px; background: var(--bg); border-right: 1px solid var(--border); position: fixed; height: 100vh; padding: 32px 0; z-index: 100; }
        .logo { padding: 0 24px 32px; border-bottom: 1px solid var(--border); margin-bottom: 24px; }
        .logo-text { font-family: 'Cormorant Garamond', serif; font-size: 28px; font-weight: 700; letter-spacing: 2px; color: var(--accent); }
        .nav-item { display: flex; align-items: center; gap: 12px; padding: 14px 24px; cursor: pointer; transition: all 0.3s ease; color: var(--text-dim); font-size: 13px; font-weight: 500; }
        .nav-item:hover { color: var(--text); background: var(--bg-elevated); }
        .nav-item.active { color: var(--accent); background: var(--accent-dim); border-right: 2px solid var(--accent); }
        .nav-icon { font-size: 16px; width: 24px; text-align: center; }
        
        /* Main */
        .main { margin-left: 200px; min-height: 100vh; }
        .header { display: flex; justify-content: space-between; align-items: center; padding: 16px 32px; border-bottom: 1px solid var(--border); background: var(--bg); position: sticky; top: 0; z-index: 50; }
        .page-title { font-family: 'Cormorant Garamond', serif; font-size: 16px; font-weight: 700; letter-spacing: 4px; color: var(--text-dim); text-transform: uppercase; }
        .header-actions { display: flex; gap: 10px; align-items: center; }
        
        /* Buttons */
        .btn { padding: 10px 20px; border: 1px solid var(--border); background: transparent; color: var(--text-dim); cursor: pointer; font-size: 12px; font-weight: 600; transition: all 0.3s ease; font-family: inherit; }
        .btn:hover { border-color: var(--text-dim); color: var(--text); }
        .btn-accent { background: var(--accent); border-color: var(--accent); color: var(--bg); }
        .btn-accent:hover { background: #e0d4bc; }
        .btn-small { padding: 6px 12px; font-size: 11px; }
        .btn-danger { border-color: var(--danger); color: var(--danger); }
        
        /* Sections */
        .section { display: none; }
        .section.active { display: block; }
        .content { padding: 24px 32px; }
        
        /* Moodboard */
        /* Moodboard - Creative Dynamic Grid */
        .moodboard { display: flex; flex-wrap: wrap; gap: 3px; overflow: hidden; }
        .mood-item { overflow: hidden; position: relative; flex-grow: 0; flex-shrink: 0; }
        .mood-item img { width: 100%; height: 100%; display: block; object-fit: cover; filter: brightness(0.6) saturate(0.85); transition: all 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94); }
        .mood-item:hover img { filter: brightness(0.88) saturate(1.1); transform: scale(1.06); }
        @keyframes moodFadeIn { from { opacity: 0; } to { opacity: 1; } }
        .mood-item { animation: moodFadeIn 0.8s ease-out both; }
        .mood-item:nth-child(2) { animation-delay: 0.08s; }
        .mood-item:nth-child(3) { animation-delay: 0.16s; }
        .mood-item:nth-child(4) { animation-delay: 0.24s; }
        .mood-item:nth-child(5) { animation-delay: 0.32s; }
        .mood-item:nth-child(6) { animation-delay: 0.4s; }
        .mood-item:nth-child(7) { animation-delay: 0.48s; }
        .mood-item:nth-child(8) { animation-delay: 0.56s; }
        .mood-item:nth-child(9) { animation-delay: 0.64s; }
        .mood-item:nth-child(10) { animation-delay: 0.72s; }
        .mood-item:nth-child(11) { animation-delay: 0.8s; }
        .mood-item:nth-child(12) { animation-delay: 0.88s; }
        .moodboard-wrapper { position: relative; }
        .moodboard-center { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; z-index: 10; pointer-events: none; }
        .moodboard-title { font-family: 'Cormorant Garamond', serif; font-size: 56px; font-weight: 700; color: #fff; letter-spacing: 16px; text-shadow: 0 4px 60px rgba(0,0,0,0.9); }
        .moodboard-sub { font-size: 12px; color: rgba(255,255,255,0.6); letter-spacing: 6px; margin-top: 8px; text-transform: uppercase; }
        .moodboard-refresh { position: absolute; top: 12px; right: 12px; z-index: 15; background: rgba(0,0,0,0.5); border: 1px solid rgba(255,255,255,0.15); color: rgba(255,255,255,0.6); padding: 6px 12px; font-size: 11px; cursor: pointer; transition: all 0.3s; backdrop-filter: blur(4px); font-family: inherit; }
        .moodboard-refresh:hover { background: rgba(0,0,0,0.7); color: #fff; border-color: rgba(255,255,255,0.3); }
        
        /* Stats Row */
        .stats-row { display: grid; grid-template-columns: repeat(6, 1fr); gap: 12px; padding: 24px 32px; background: var(--bg-elevated); border-bottom: 1px solid var(--border); }
        .stat-box { text-align: center; padding: 16px; cursor: pointer; transition: all 0.3s; }
        .stat-box:hover { background: var(--bg-card); }
        .stat-value { font-family: 'Cormorant Garamond', serif; font-size: 28px; font-weight: 700; color: var(--accent); }
        .stat-label { font-size: 10px; color: var(--text-dim); letter-spacing: 1px; margin-top: 4px; text-transform: uppercase; }
        
        /* Cards */
        .cards { display: grid; grid-template-columns: repeat(5, 1fr); gap: 12px; }
        .card { background: var(--bg-card); border: 1px solid var(--border); padding: 20px; cursor: pointer; transition: all 0.3s; }
        .card:hover { border-color: var(--text-muted); transform: translateY(-2px); }
        .card-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
        .card-icon { font-size: 24px; }
        .card-badge { font-size: 9px; color: var(--accent); letter-spacing: 1px; padding: 4px 8px; border: 1px solid var(--accent); }
        .card-title { font-family: 'Cormorant Garamond', serif; font-size: 18px; font-weight: 700; }
        .card-desc { font-size: 11px; color: var(--text-dim); margin-top: 6px; }
        .section-label { font-size: 10px; color: var(--text-dim); letter-spacing: 2px; margin-bottom: 16px; text-transform: uppercase; }
        
        /* Wealth Layout */
        .wealth-layout { display: grid; grid-template-columns: 1fr 320px; gap: 24px; }
        .wealth-main { display: flex; flex-direction: column; gap: 20px; }
        .wealth-sidebar { display: flex; flex-direction: column; gap: 16px; position: sticky; top: 80px; height: fit-content; }
        
        /* Quote */
        .quote-box { background: linear-gradient(135deg, var(--bg-card) 0%, var(--bg-elevated) 100%); border: 1px solid var(--border); padding: 20px 24px; position: relative; }
        .quote-box::before { content: '"'; position: absolute; top: -20px; left: 10px; font-size: 120px; color: var(--accent); opacity: 0.1; font-family: 'Cormorant Garamond', serif; }
        .quote-text { font-family: 'Cormorant Garamond', serif; font-size: 18px; font-style: italic; color: var(--accent); line-height: 1.6; position: relative; z-index: 1; text-align: center; }
        .quote-author { font-size: 11px; color: var(--text-dim); margin-top: 10px; text-align: center; }
        
        /* Goal */
        .goal-card { background: var(--bg-card); border: 1px solid var(--accent); padding: 20px; }
        .goal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
        .goal-label { font-size: 10px; font-weight: 700; color: var(--accent); letter-spacing: 2px; }
        .goal-value { font-family: 'Cormorant Garamond', serif; font-size: 26px; font-weight: 700; }
        .goal-progress { height: 4px; background: var(--border); margin-top: 12px; border-radius: 2px; overflow: hidden; }
        .goal-bar { height: 100%; background: linear-gradient(90deg, var(--accent), #e0d4bc); transition: width 0.8s ease; }
        .goal-info { display: flex; justify-content: space-between; margin-top: 8px; font-size: 11px; color: var(--text-dim); }
        
        /* AI Panel */
        .ai-panel { background: linear-gradient(180deg, var(--bg-card) 0%, rgba(20,20,20,0.95) 100%); border: 1px solid var(--accent); position: relative; }
        .ai-header { display: flex; align-items: center; gap: 10px; padding: 16px 20px; border-bottom: 1px solid var(--border); }
        .ai-icon { width: 28px; height: 28px; background: var(--accent); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px; }
        .ai-title { font-size: 13px; font-weight: 600; color: var(--accent); }
        .ai-content { padding: 16px 20px; max-height: 400px; overflow-y: auto; }
        .ai-suggestion { font-size: 13px; line-height: 1.7; color: var(--text-dim); }
        .ai-suggestion strong { color: var(--accent); }
        .ai-suggestion ul { margin: 12px 0; padding-left: 20px; }
        .ai-suggestion li { margin-bottom: 8px; }
        .ai-chat { padding: 12px 20px; border-top: 1px solid var(--border); }
        .ai-input-wrap { display: flex; gap: 8px; }
        .ai-input { flex: 1; background: var(--bg-input); border: 1px solid var(--border); padding: 10px 14px; color: var(--text); font-size: 13px; font-family: inherit; }
        .ai-input:focus { outline: none; border-color: var(--accent); }
        .ai-send { width: 40px; background: var(--accent); border: none; color: var(--bg); cursor: pointer; font-size: 16px; }
        .ai-model-badge { margin-left: auto; font-size: 9px; color: var(--text-muted); letter-spacing: 0.5px; padding: 2px 6px; border: 1px solid var(--border); border-radius: 2px; }
        .ai-msg { padding: 8px 0; border-bottom: 1px solid var(--border); font-size: 12px; line-height: 1.6; }
        .ai-msg.user { color: var(--accent); }
        .ai-msg.assistant { color: var(--text-dim); }
        .ai-msg .ai-role { font-size: 9px; font-weight: 700; letter-spacing: 1px; margin-bottom: 2px; text-transform: uppercase; }
        .ai-loading { display: inline-block; }
        .ai-loading::after { content: ''; animation: dotPulse 1.2s infinite; }
        @keyframes dotPulse { 0% { content: '.'; } 33% { content: '..'; } 66% { content: '...'; } }
        
        /* Summary Grid */
        .summary-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; }
        .summary-item { background: var(--bg-card); border: 1px solid var(--border); padding: 16px; text-align: center; cursor: pointer; transition: all 0.3s; }
        .summary-item:hover { border-color: var(--text-muted); }
        .summary-label { font-size: 10px; font-weight: 600; color: var(--text-muted); letter-spacing: 1px; margin-bottom: 6px; text-transform: uppercase; }
        .summary-value { font-family: 'Cormorant Garamond', serif; font-size: 24px; font-weight: 700; }
        .summary-value.positive { color: var(--success); }
        .summary-value.negative { color: var(--danger); }
        .summary-value.accent { color: var(--accent); }
        
        /* Chart */
        .chart-container { background: var(--bg-card); border: 1px solid var(--border); padding: 20px; }
        .chart-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; flex-wrap: wrap; gap: 12px; }
        .chart-title { font-family: 'Cormorant Garamond', serif; font-size: 18px; font-weight: 700; }
        .chart-tabs { display: flex; gap: 6px; flex-wrap: wrap; }
        .chart-tab { padding: 6px 12px; font-size: 10px; font-weight: 600; background: transparent; border: 1px solid var(--border); color: var(--text-dim); cursor: pointer; transition: all 0.3s; font-family: inherit; }
        .chart-tab.active, .chart-tab:hover { background: var(--accent-dim); border-color: var(--accent); color: var(--accent); }
        .chart-toggle { display: flex; background: var(--bg-input); border: 1px solid var(--border); overflow: hidden; }
        .chart-toggle-btn { padding: 6px 14px; font-size: 10px; font-weight: 600; background: transparent; border: none; color: var(--text-dim); cursor: pointer; transition: all 0.3s; }
        .chart-toggle-btn.active { background: var(--accent); color: var(--bg); }
        .chart-wrapper { height: 280px; position: relative; }
        
        /* Forms */
        .form-section { background: var(--bg-card); border: 1px solid var(--border); padding: 20px; margin-bottom: 16px; }
        .form-title { font-family: 'Cormorant Garamond', serif; font-size: 16px; font-weight: 700; margin-bottom: 16px; }
        .form-row { display: flex; gap: 12px; margin-bottom: 10px; flex-wrap: wrap; }
        .form-group { display: flex; flex-direction: column; gap: 6px; flex: 1; min-width: 140px; }
        .form-label { font-size: 10px; font-weight: 600; color: var(--text-dim); letter-spacing: 0.5px; }
        .form-input, .form-select { width: 100%; background: var(--bg-input); border: 1px solid var(--border); padding: 10px 12px; color: var(--text); font-size: 14px; font-family: inherit; }
        .form-input:focus { outline: none; border-color: var(--accent); }
        .form-actions { display: flex; gap: 10px; margin-top: 16px; }
        
        /* Tabs */
        .tabs { display: flex; gap: 0; border-bottom: 1px solid var(--border); margin-bottom: 20px; }
        .tab { padding: 12px 20px; font-size: 12px; font-weight: 600; color: var(--text-dim); cursor: pointer; border-bottom: 2px solid transparent; transition: all 0.3s; }
        .tab:hover { color: var(--text); }
        .tab.active { color: var(--accent); border-bottom-color: var(--accent); }
        
        /* Business */
        .business-selector { display: flex; gap: 8px; margin-bottom: 20px; flex-wrap: wrap; }
        .business-chip { padding: 8px 16px; font-size: 11px; font-weight: 600; background: var(--bg-input); border: 1px solid var(--border); color: var(--text-dim); cursor: pointer; transition: all 0.3s; display: flex; align-items: center; gap: 6px; }
        .business-chip:hover { border-color: var(--text-dim); }
        .business-chip.active { background: var(--accent-dim); border-color: var(--accent); color: var(--accent); }
        .business-stats { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin-bottom: 20px; }
        .business-stat { background: var(--bg-card); border: 1px solid var(--border); padding: 16px; text-align: center; }
        .business-stat-value { font-family: 'Cormorant Garamond', serif; font-size: 28px; font-weight: 700; color: var(--accent); }
        .business-stat-label { font-size: 10px; color: var(--text-dim); margin-top: 6px; letter-spacing: 1px; }
        
        /* Account rows */
        .account-grid { display: flex; flex-direction: column; gap: 6px; }
        .account-row { display: grid; grid-template-columns: 160px 70px 1fr 32px; gap: 10px; align-items: center; padding: 8px 0; border-bottom: 1px solid var(--border); }
        .account-name { font-size: 13px; font-weight: 500; }
        .account-bank { font-size: 10px; color: var(--text-muted); }
        .account-row .form-input { text-align: right; font-family: 'Cormorant Garamond', serif; font-size: 15px; font-weight: 600; }
        .account-delete { background: none; border: none; color: var(--text-muted); cursor: pointer; font-size: 14px; opacity: 0; transition: all 0.3s; }
        .account-row:hover .account-delete { opacity: 1; }
        .account-delete:hover { color: var(--danger); }
        .category-total { text-align: right; padding: 10px 0; font-size: 12px; color: var(--text-dim); }
        .category-total span { font-family: 'Cormorant Garamond', serif; font-size: 16px; font-weight: 700; color: var(--accent); margin-left: 8px; }
        .debt-section .form-input { color: var(--danger); }
        .debt-section .category-total span { color: var(--danger); }
        
        /* Toast & Modal */
        .toast { position: fixed; bottom: 24px; right: 24px; background: var(--success); color: #fff; padding: 14px 24px; font-size: 13px; font-weight: 600; transform: translateY(100px); opacity: 0; transition: all 0.4s ease; z-index: 1000; }
        .toast.show { transform: translateY(0); opacity: 1; }
        .toast.error { background: var(--danger); }
        .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.85); display: none; align-items: center; justify-content: center; z-index: 200; }
        .modal-overlay.show { display: flex; }
        .modal { background: var(--bg-card); border: 1px solid var(--border); padding: 28px; width: 100%; max-width: 500px; max-height: 90vh; overflow-y: auto; animation: fadeIn 0.3s ease; }
        .modal-title { font-family: 'Cormorant Garamond', serif; font-size: 22px; font-weight: 700; margin-bottom: 20px; }
        
        /* Habit Items */
        .habit-item { display: flex; flex-direction: column; align-items: center; gap: 8px; padding: 16px; background: var(--bg-input); border: 1px solid var(--border); cursor: pointer; transition: all 0.3s; }
        .habit-item:hover { border-color: var(--text-muted); }
        .habit-item:has(input:checked) { background: var(--accent-dim); border-color: var(--accent); }
        .habit-item input { display: none; }
        .habit-icon { font-size: 28px; }
        .habit-name { font-size: 12px; font-weight: 600; }
        .habit-time { font-size: 10px; color: var(--text-muted); }
        .habit-item:has(input:checked) .habit-name { color: var(--accent); }
        
        /* Photo Gallery */
        .photo-gallery { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-bottom: 20px; }
        .photo-card { background: var(--bg-card); border: 1px solid var(--border); padding: 12px; text-align: center; }
        .photo-card img { width: 100%; height: 150px; object-fit: cover; margin-bottom: 8px; }
        .photo-date { font-size: 11px; color: var(--accent); margin-bottom: 4px; }
        .photo-stats { font-size: 10px; color: var(--text-dim); }
        .photo-upload { border: 2px dashed var(--border); padding: 30px; text-align: center; cursor: pointer; transition: all 0.3s; }
        .photo-upload:hover { border-color: var(--accent); }
        
        /* Monthly Table */
        .monthly-table { width: 100%; border-collapse: collapse; font-size: 11px; }
        .monthly-table th, .monthly-table td { padding: 8px 6px; text-align: center; border: 1px solid var(--border); }
        .monthly-table th { background: var(--bg-elevated); color: var(--text-dim); font-weight: 600; }
        .monthly-table .positive { color: var(--success); }
        .monthly-table .negative { color: var(--danger); }
        
        /* Daily Grid - Equal Width & Height Columns */
        .daily-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            align-items: stretch;
        }
        .daily-column {
            display: flex;
            flex-direction: column;
        }
        .daily-column > .goal-card,
        .daily-column > .form-section {
            flex: 1;
        }
        .daily-column:first-child {
            display: flex;
            flex-direction: column;
        }
        .daily-column:first-child > .goal-card {
            flex: 0 0 auto;
        }
        .daily-column:first-child > .form-section {
            flex: 1;
        }
        
        /* Sticky Table Header for Daily History */
        .daily-history-wrapper {
            max-height: 480px;
            overflow-y: auto;
            position: relative;
        }
        .daily-history-wrapper table {
            width: 100%;
            border-collapse: collapse;
        }
        .daily-history-wrapper thead {
            position: sticky;
            top: 0;
            z-index: 10;
        }
        .daily-history-wrapper thead th {
            background: var(--bg-card) !important;
            border-bottom: 2px solid var(--accent);
            padding: 12px 4px;
            font-size: 16px;
            text-align: center;
        }
        .daily-history-wrapper thead th:first-child {
            text-align: left;
            font-size: 11px;
            padding-left: 8px;
        }
        .daily-history-wrapper thead th:last-child {
            font-size: 11px;
        }
        .daily-history-wrapper tbody td {
            padding: 8px 4px;
            border-bottom: 1px solid var(--border);
            font-size: 12px;
            text-align: center;
        }
        .daily-history-wrapper tbody td:first-child {
            text-align: left;
            white-space: nowrap;
            padding-left: 8px;
            font-size: 11px;
        }
        .daily-history-wrapper tbody tr:hover {
            background: var(--bg-elevated);
        }
        .daily-history-wrapper tbody tr.today-row {
            background: rgba(212,197,169,0.15);
            font-weight: 600;
        }
        
        /* Mobile */
        .mobile-menu-btn { display: none; position: fixed; top: calc(10px + env(safe-area-inset-top)); left: calc(10px + env(safe-area-inset-left)); z-index: 200; width: 44px; height: 44px; background: var(--bg-card); border: 1px solid var(--border); border-radius: 8px; color: var(--accent); font-size: 20px; cursor: pointer; align-items: center; justify-content: center; -webkit-tap-highlight-color: transparent; touch-action: manipulation; }
        .sidebar-overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.7); z-index: 90; }
        
        @media (max-width: 1200px) {
            .wealth-layout { grid-template-columns: 1fr; }
            .wealth-sidebar { position: relative; top: 0; }
            .cards { grid-template-columns: repeat(3, 1fr); }
            /* masonry handled by JS */
            .daily-grid { grid-template-columns: 1fr 1fr; }
            .daily-column:nth-child(3) { grid-column: span 2; }
        }
        /* ===== MOBILE (≤768px) ===== */
        @media (max-width: 768px) {
            /* --- Base Layout --- */
            .mobile-menu-btn { display: flex; }
            .sidebar { transform: translateX(-100%); transition: transform 0.3s ease; width: 260px; z-index: 150; padding-top: calc(32px + env(safe-area-inset-top)); }
            .sidebar.open { transform: translateX(0); }
            .sidebar-overlay.show { display: block; }
            .main { margin-left: 0; overflow-x: hidden; }
            
            /* --- Header: wrap buttons --- */
            .header { padding: 10px 12px; padding-top: calc(10px + env(safe-area-inset-top)); padding-left: calc(62px + env(safe-area-inset-left)); flex-wrap: wrap; gap: 8px; }
            .header .page-title { font-size: 12px; letter-spacing: 2px; }
            .header-actions { gap: 4px; flex-wrap: wrap; }
            .header-actions .btn { padding: 5px 8px; font-size: 9px; }
            .header-actions .sync-dot { margin-right: 2px; }
            
            /* --- Content --- */
            .content { padding: 10px; }
            
            /* --- Dashboard Stats Row --- */
            .stats-row { grid-template-columns: repeat(3, 1fr) !important; padding: 10px; gap: 4px; }
            .stat-box { padding: 8px 2px; }
            .stat-value { font-size: 20px; }
            .stat-label { font-size: 7px; letter-spacing: 0.5px; }
            
            /* --- Dashboard Cards --- */
            .cards { grid-template-columns: repeat(2, 1fr); gap: 8px; }
            .card { padding: 12px; }
            .card-icon { font-size: 20px; }
            .card-title { font-size: 15px; }
            .card-desc { font-size: 10px; }
            .card-badge { font-size: 8px; padding: 2px 6px; }
            
            /* --- Moodboard --- */
            .moodboard-title { font-size: 28px; letter-spacing: 6px; }
            .moodboard-sub { font-size: 8px; letter-spacing: 2px; }
            .moodboard-refresh { top: 6px; right: 6px; padding: 3px 8px; font-size: 9px; }
            .moodboard-toolbar { top: 6px !important; left: 6px !important; gap: 3px !important; }
            .moodboard-toolbar span { padding: 2px 6px !important; font-size: 8px !important; }
            .moodboard-toolbar .moodboard-refresh { padding: 2px 6px; font-size: 8px; }
            
            /* --- Quote Box --- */
            .quote-box { padding: 14px 16px; }
            .quote-box .quote-text { font-size: 13px; line-height: 1.5; }
            .quote-box .quote-text strong { font-size: 15px !important; }
            .quote-box::before { font-size: 80px; top: -12px; }
            .quote-author { font-size: 10px; }
            
            /* --- Goal Card --- */
            .goal-card { padding: 12px; }
            .goal-value { font-size: 18px; }
            .goal-label { font-size: 9px; }
            .goal-info { font-size: 10px; }
            
            /* --- Forms --- */
            .form-section { padding: 12px; }
            .form-title { font-size: 13px; }
            .form-row { flex-direction: column; gap: 8px; }
            .form-group { min-width: 0; }
            .form-input, .form-select { padding: 8px 10px; font-size: 13px; }
            .form-label { font-size: 9px; }
            .form-actions { flex-wrap: wrap; }
            .section-label { font-size: 9px; margin-bottom: 10px; }
            
            /* --- Buttons --- */
            .btn { padding: 8px 14px; font-size: 11px; }
            .btn-small { padding: 4px 8px; font-size: 9px; }
            
            /* --- Summary Grid --- */
            .summary-grid { grid-template-columns: repeat(2, 1fr); gap: 8px; }
            .summary-item { padding: 12px 8px; min-width: 0; }
            .summary-value { font-size: 20px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
            .summary-label { font-size: 9px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
            
            /* --- Charts --- */
            .chart-container { padding: 12px; }
            .chart-wrapper { height: 200px; }
            .chart-header { flex-direction: column; align-items: flex-start; gap: 8px; }
            .chart-title { font-size: 15px; }
            .chart-tabs { flex-wrap: wrap; gap: 4px; }
            .chart-tab { padding: 4px 8px; font-size: 9px; }
            .chart-toggle { flex-wrap: nowrap; }
            .chart-toggle-btn { padding: 4px 10px; font-size: 9px; }
            
            /* --- Tabs --- */
            .tabs { overflow-x: auto; -webkit-overflow-scrolling: touch; }
            .tab { padding: 10px 12px; font-size: 11px; white-space: nowrap; }
            
            /* ===== WEALTH SECTION ===== */
            .wealth-main { overflow: hidden; }
            .wealth-layout { gap: 16px; }
            .wealth-quote-goal { grid-template-columns: 1fr !important; gap: 12px !important; }
            #wealth .wealth-sidebar { margin-top: 12px; }
            #wealth .chart-tabs { gap: 3px; }
            #wealth .chart-tab { padding: 3px 6px; font-size: 8px; }
            #wealth .chart-toggle-btn { padding: 3px 8px; font-size: 8px; }
            .account-row { grid-template-columns: 1fr 40px 100px 24px; font-size: 11px; gap: 6px; }
            .account-name { font-size: 12px; }
            .category-total { font-size: 11px; }
            
            /* ===== PHYSIC SECTION ===== */
            .physic-layout { grid-template-columns: 1fr !important; }
            .physic-stats-row { grid-template-columns: repeat(3, 1fr) !important; }
            
            /* ===== DAILY SECTION ===== */
            .daily-grid { grid-template-columns: 1fr; }
            .daily-column:nth-child(3) { grid-column: span 1; }
            .daily-column:nth-child(3) iframe { min-height: 300px !important; }
            .daily-history-wrapper { max-height: 350px; -webkit-overflow-scrolling: touch; }
            .daily-history-wrapper thead th { font-size: 14px; padding: 8px 2px; }
            .daily-history-wrapper thead th:first-child { font-size: 9px; }
            .daily-history-wrapper thead th:last-child { font-size: 9px; }
            .daily-history-wrapper tbody td { padding: 6px 2px; font-size: 11px; }
            #habits-grid { grid-template-columns: repeat(3, 1fr) !important; gap: 6px !important; }
            .habit-item { padding: 8px !important; }
            .habit-icon { font-size: 20px !important; }
            .habit-name { font-size: 10px !important; }
            .habit-time { font-size: 8px; }
            
            /* ===== TRADING SECTION ===== */
            #trading .summary-grid { grid-template-columns: repeat(2, 1fr); gap: 6px; }
            #trading .summary-item { padding: 10px 6px; min-width: 0; }
            #trading .summary-value { font-size: 16px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
            #trading .summary-label { font-size: 7px; letter-spacing: 0.5px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
            #trading .chart-wrapper { height: 180px; }
            .monthly-table { font-size: 8px; }
            .monthly-table th, .monthly-table td { padding: 3px 1px; min-width: 22px; text-align: center; }
            .monthly-table th:first-child, .monthly-table td:first-child { min-width: 34px; text-align: left; }
            #trading .form-section .form-title { font-size: 12px; }
            #trading .form-row .form-group .form-label { font-size: 8px; }
            #trading .form-row .form-group .form-input { font-size: 12px; padding: 6px 8px; }
            #trading .tabs .tab { font-size: 11px; padding: 8px 10px; }
            #prop-challenges { grid-template-columns: 1fr !important; }
            #tab-propfirm .summary-grid { grid-template-columns: repeat(2, 1fr); gap: 6px; }
            #tab-propfirm .summary-item { padding: 10px 6px; min-width: 0; }
            #tab-propfirm .summary-value { font-size: 14px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
            #tab-propfirm .summary-label { font-size: 7px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
            
            /* ===== BUSINESS SECTION ===== */
            .business-stats { grid-template-columns: repeat(2, 1fr); gap: 8px; }
            .business-stat { padding: 12px 8px; }
            .business-stat-value { font-size: 22px; }
            .business-stat-label { font-size: 9px; }
            .business-selector { gap: 6px; }
            .business-chip { padding: 6px 10px; font-size: 10px; }
            
            /* ===== AI PANEL ===== */
            .ai-panel { margin-top: 8px; }
            .ai-content { max-height: 180px; }
            .ai-suggestion { font-size: 12px; line-height: 1.5; }
            .ai-input { font-size: 12px; padding: 8px 10px; }
            
            /* ===== MODALS ===== */
            .modal-overlay { padding: 12px; }
            .modal { padding: 16px; max-width: 100%; }
            .modal-title { font-size: 18px; margin-bottom: 14px; }
            
            /* ===== INFORMATION ===== */
            #information .content { height: calc(100vh - 60px); padding: 0; }

            /* ===== AI COACH: stack panels on mobile ===== */
            #lifecoach .content > div[style*="grid-template-columns"] { grid-template-columns: 1fr !important; }
        }
        
        /* ===== SMALL PHONE (≤400px) ===== */
        @media (max-width: 400px) {
            .stats-row { grid-template-columns: repeat(2, 1fr) !important; }
            .cards { grid-template-columns: 1fr; }
            .summary-grid { grid-template-columns: 1fr; }
            #habits-grid { grid-template-columns: repeat(2, 1fr) !important; }
            .header { padding-left: 58px; }
            .mobile-menu-btn { width: 44px; height: 44px; font-size: 18px; }
            .moodboard-title { font-size: 22px; letter-spacing: 4px; }
            .chart-wrapper { height: 160px; }
        }
